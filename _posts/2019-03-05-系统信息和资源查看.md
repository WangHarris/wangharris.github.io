---
layout: post
title: "系统信息和资源查看"
date: 2019-03-05
excerpt: ""
tags: [linux]
comments: true
---



1. 查看系统健康状态

   ```shell
   top
   ```

   在top命令的交互模式当中可以执行的命令：

   - P：以CUP使用率排序，默认就是此项
   - M：以内存的使用率排序
   - N：以PID排序
   - q：退出top

   在top命令的输出结果中，第一行信息是：

   | 内容                         | 说明                                                         |
   | ---------------------------- | ------------------------------------------------------------ |
   | 12:26:46                     | 系统当前时间                                                 |
   | up 1 day, 13:32              | 系统的运行时间，本机已经运行1天13小时32分钟                  |
   | 2users                       | 当前登录了两个用户                                           |
   | load average：0.00,0.00,0.00 | 系统在之前1分钟，5分钟，15分钟的平均负载。一般认为小于cpu核数时，负载较小，如果大于cpu核数，系统已经超出负荷。 |

   第二行为进程信息：

   | 内容           | 说明                                      |
   | -------------- | ----------------------------------------- |
   | Tasks：95total | 系统中的进程总数                          |
   | 1 running      | 正在运行的进程数                          |
   | 94 sleeping    | 睡眠的进程数                              |
   | 0 stopped      | 正在停止的进程数                          |
   | 0 zombie       | 僵尸进程。如果不是0，需要手工检查僵尸进程 |

   第三行为CPU信息，我们主要看这几个值：

   | 内容    | 说明                    |
   | ------- | ----------------------- |
   | 0.1%us  | 用户模式占用的CPU百分比 |
   | 0.1%sy  | 系统模式占用的CPU百分比 |
   | 99.7%id | CPU空闲的百分比         |

   第四行和第五行分别是物理内存和交换分区（虚拟内存）的信息。

   

2. vmstat命令监控系统资源

   ```shell
   vmstat [刷新延时] [刷新次数]
   ```

   例如

   ```shell
   vmstat 1 3
   ```

   隔一秒刷新一次，总共刷新三次。

   

3. dmesg命令显示开机时内核检测信息

   ```shell
   dmesg | grep CPU
   ```

4. free命令查看内存使用状态

   ```shell
   free -h
   ```

   缓存和缓冲的区别：

   ​	简单来说缓存（cache）是用来加速数据从硬盘中“读取”的，而缓冲（buffer）是用来加速数据“写入”硬盘的。

5. df命令查看硬盘使用情况

   ```shell
   df -h
   ```

   

6. 查看CPU信息

   ```shell
   cat /proc/cpuinfo
   ```

   **注意：`/proc`目录是在内存中挂载的。**

7. uptime命令

   就是`top`命令的第一行。

8. 查看系统与内核相关信息

   ```shell
   uname [选项]
   ```

   选项：

   - -a：查看系统所有相关信息
   - -r：查看内核版本
   - -s：查看内核名称

9. 判断当前系统的位数

   ```shell
   file /bin/ls
   ```

   ​	没有直接显示系统位数的命令，我们可以使用file命令查看ls命令的文件类型信息得出结果：`ELF 32-bit...`或者`ELF 64-bit...`。

10. 查询当前系统的发行版本

   ```shell
   lsb_release -a
   ```

   